<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Car Driving Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .game-container {
            background: #0f3460;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 8px;
        }
        
        canvas {
            border: 4px solid #e94560;
            border-radius: 10px;
            display: block;
            background: #7CB342;
        }
        
        .controls {
            margin-top: 20px;
            text-align: center;
            color: #fff;
        }
        
        .controls h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #e94560;
        }
        
        .controls p {
            font-size: 16px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="stats">
            <div class="stat-item">Score: <span id="score">0</span></div>
            <div class="stat-item">Speed: <span id="speed">0</span> km/h</div>
        </div>
        
        <canvas id="gameCanvas" width="1200" height="800"></canvas>
        
        <div class="controls">
            <h3>Controls</h3>
            <p>Arrow Keys or WASD to drive</p>
            <p>↑/W: Accelerate | ↓/S: Brake | ←/A: Turn Left | →/D: Turn Right</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreDisplay = document.getElementById('score');
        const speedDisplay = document.getElementById('speed');

        const game = {
            car: {
                x: 100,
                y: 300,
                width: 60,
                height: 30,
                angle: 0,
                velocity: { x: 0, y: 0 }
            },
            keys: {},
            trees: [],
            roads: [],
            acceleration: 0.3,
            friction: 0.95,
            turnSpeed: 0.05,
            maxSpeed: 8,
            score: 0
        };

        // Initialize scenery
        for (let i = 0; i < 30; i++) {
            game.trees.push({
                x: Math.random() * 1200,
                y: Math.random() * 800,
                size: 20 + Math.random() * 30
            });
        }

        // Create road segments
        for (let i = 0; i < 10; i++) {
            game.roads.push({
                x: i * 150,
                y: 250 + Math.sin(i * 0.5) * 100,
                width: 200,
                height: 150
            });
        }

        // Event listeners
        window.addEventListener('keydown', (e) => {
            game.keys[e.key] = true;
        });

        window.addEventListener('keyup', (e) => {
            game.keys[e.key] = false;
        });

        function gameLoop() {
            const { car, keys, acceleration, friction, turnSpeed, maxSpeed } = game;

            // Handle input
            if (keys['ArrowUp'] || keys['w'] || keys['W']) {
                car.velocity.x += Math.cos(car.angle) * acceleration;
                car.velocity.y += Math.sin(car.angle) * acceleration;
            }

            if (keys['ArrowDown'] || keys['s'] || keys['S']) {
                car.velocity.x -= Math.cos(car.angle) * acceleration * 0.5;
                car.velocity.y -= Math.sin(car.angle) * acceleration * 0.5;
            }

            const currentSpeed = Math.sqrt(car.velocity.x ** 2 + car.velocity.y ** 2);

            if (keys['ArrowLeft'] || keys['a'] || keys['A']) {
                car.angle -= turnSpeed * Math.min(currentSpeed / 2, 1);
            }

            if (keys['ArrowRight'] || keys['d'] || keys['D']) {
                car.angle += turnSpeed * Math.min(currentSpeed / 2, 1);
            }

            // Apply friction
            car.velocity.x *= friction;
            car.velocity.y *= friction;

            // Limit max speed
            if (currentSpeed > maxSpeed) {
                car.velocity.x = (car.velocity.x / currentSpeed) * maxSpeed;
                car.velocity.y = (car.velocity.y / currentSpeed) * maxSpeed;
            }

            // Update position
            car.x += car.velocity.x;
            car.y += car.velocity.y;

            // Keep car in bounds
            car.x = Math.max(30, Math.min(1170, car.x));
            car.y = Math.max(30, Math.min(770, car.y));

            // Update score and speed
            game.score += Math.floor(currentSpeed * 0.1);
            scoreDisplay.textContent = game.score;
            speedDisplay.textContent = Math.floor(currentSpeed * 10);

            // Clear canvas
            ctx.fillStyle = '#7CB342';
            ctx.fillRect(0, 0, 1200, 800);

            // Draw roads
            ctx.fillStyle = '#424242';
            game.roads.forEach(road => {
                ctx.fillRect(road.x - car.x + 600, road.y - car.y + 400, road.width, road.height);

                // Road lines
                ctx.strokeStyle = '#FFD54F';
                ctx.lineWidth = 3;
                ctx.setLineDash([20, 20]);
                ctx.beginPath();
                ctx.moveTo(road.x - car.x + 600, road.y - car.y + 475);
                ctx.lineTo(road.x + road.width - car.x + 600, road.y - car.y + 475);
                ctx.stroke();
                ctx.setLineDash([]);
            });

            // Draw trees
            game.trees.forEach(tree => {
                const screenX = tree.x - car.x + 600;
                const screenY = tree.y - car.y + 400;

                // Tree trunk
                ctx.fillStyle = '#5D4037';
                ctx.fillRect(screenX - 5, screenY, 10, 20);

                // Tree foliage
                ctx.fillStyle = '#2E7D32';
                ctx.beginPath();
                ctx.arc(screenX, screenY, tree.size / 2, 0, Math.PI * 2);
                ctx.fill();
            });

            // Draw car
            ctx.save();
            ctx.translate(600, 400);
            ctx.rotate(car.angle);

            // Car body
            ctx.fillStyle = '#E53935';
            ctx.fillRect(-30, -15, 60, 30);

            // Car windows
            ctx.fillStyle = '#1565C0';
            ctx.fillRect(-15, -10, 20, 20);
            ctx.fillRect(5, -10, 20, 20);

            // Car wheels
            ctx.fillStyle = '#212121';
            ctx.fillRect(-25, -20, 15, 8);
            ctx.fillRect(-25, 12, 15, 8);
            ctx.fillRect(15, -20, 15, 8);
            ctx.fillRect(15, 12, 15, 8);

            ctx.restore();

            requestAnimationFrame(gameLoop);
        }

        // Start the game
        gameLoop();
    </script>
</body>
</html>